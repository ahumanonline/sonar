function makeIds(){var e=document.querySelector(".js-toc-content").querySelectorAll("h1, h2, h3, h4, h5, h6, h7"),n={};Array.prototype.forEach.call(e,function(e){var t=e.id||e.textContent.trim().toLowerCase().split(" ").join("-").replace(/[!@#$%^&*():]/gi,"").replace(/\//gi,"-");n[t]=isNaN(n[t])?0:++n[t],e.id=n[t]?t+"-"+n[t]:t})}!function(l){"use strict";l.fn.fitVids=function(e){var t,n,i={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(t=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(n.childNodes[1])),e&&l.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"],o=(i.customSelector&&e.push(i.customSelector),".fitvidsignore"),e=(i.ignore&&(o=o+", "+i.ignore),l(this).find(e.join(",")));(e=(e=e.not("object object")).not(o)).each(function(){var e,t,n=l(this);0<n.parents(o).length||"embed"===this.tagName.toLowerCase()&&n.parent("object").length||n.parent(".fluid-width-video-wrapper").length||(n.css("height")||n.css("width")||!isNaN(n.attr("height"))&&!isNaN(n.attr("width"))||(n.attr("height",9),n.attr("width",16)),e=("object"===this.tagName.toLowerCase()||n.attr("height")&&!isNaN(parseInt(n.attr("height"),10))?parseInt(n.attr("height"),10):n.height())/(isNaN(parseInt(n.attr("width"),10))?n.width():parseInt(n.attr("width"),10)),n.attr("name")||(t="fitvid"+l.fn.fitVids._count,n.attr("name",t),l.fn.fitVids._count++),n.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),n.removeAttr("height").removeAttr("width"))})})},l.fn.fitVids._count=0}(window.jQuery||window.Zepto),!function(e){e.addEventListener("DOMContentLoaded",function(){e.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),n=e.attributes.width.value,e=e.attributes.height.value;t.style.flex=n/e+" 1 0%"})})}((window,document)),$(".postItem:empty").parent().hide(),!function(t,n){var o,i,l,r,s,c,a,d=n.querySelector("link[rel=next]");function u(){var e;404===this.status?(t.removeEventListener("scroll",m),t.removeEventListener("resize",h)):(this.response.querySelectorAll("article.post-card").forEach(function(e){o.appendChild(n.importNode(e,!0))}),(e=this.response.querySelector("link[rel=next]"))?d.href=e.href:(t.removeEventListener("scroll",m),t.removeEventListener("resize",h)),a=n.documentElement.scrollHeight,r=l=!1)}function e(){var e;r||(s+c<=a-i?l=!1:(r=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",u),e.open("GET",d.href),e.send(null)))}function f(){l||t.requestAnimationFrame(e),l=!0}function m(){s=t.scrollY,f()}function h(){c=t.innerHeight,a=n.documentElement.scrollHeight,f()}!d||(o=n.querySelector(".post-feed"))&&(r=l=!(i=300),s=t.scrollY,c=t.innerHeight,a=n.documentElement.scrollHeight,t.addEventListener("scroll",m,{passive:!0}),t.addEventListener("resize",h),f())}(window,document),!function(n){var o={};function i(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(n,o,h){!function(e){var t;e=void 0!==e?e:this.window||this.global,t=[],e=function(e){"use strict";var n,o,i,l,r=h(2),s={},c={},a=h(3),d=h(4),u=h(5),f=!!(e&&e.document&&e.document.querySelector&&e.addEventListener);if("undefined"!=typeof window||f)return l=Object.prototype.hasOwnProperty,c.destroy=function(){if(!s.skipRendering)try{document.querySelector(s.tocSelector).innerHTML=""}catch(e){console.warn("Element not found: "+s.tocSelector)}s.scrollContainer&&document.querySelector(s.scrollContainer)?(document.querySelector(s.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(s.scrollContainer).removeEventListener("resize",this._scrollListener,!1),n&&document.querySelector(s.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),n&&document.removeEventListener("click",this._clickListener,!1))},c.init=function(e){var t;if(f&&(s=function(){for(var e={},t=0;t<arguments.length;t++){var n,o=arguments[t];for(n in o)l.call(o,n)&&(e[n]=o[n])}return e}(r,e||{}),this.options=s,this.state={},s.scrollSmooth&&(s.duration=s.scrollSmoothDuration,s.offset=s.scrollSmoothOffset,c.scrollSmooth=h(6).initSmoothScrolling(s)),n=a(s),o=d(s),this._buildHtml=n,this._parseContent=o,c.destroy(),null!==(i=o.selectHeadings(s.contentSelector,s.headingSelector))))return e=o.nestHeadingsArray(i).nest,s.skipRendering||n.render(s.tocSelector,e),this._scrollListener=m(function(e){n.updateToc(i),s.disableTocScrollSync||u(s);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(n.updateToc(i),s.scrollEndCallback&&s.scrollEndCallback(e))},s.throttleTimeout),this._scrollListener(),(s.scrollContainer&&document.querySelector(s.scrollContainer)?(document.querySelector(s.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(s.scrollContainer)):(document.addEventListener("scroll",this._scrollListener,!1),document)).addEventListener("resize",this._scrollListener,!1),t=null,this._clickListener=m(function(e){s.scrollSmooth&&n.disableTocAnimation(e),n.updateToc(i),t&&clearTimeout(t),t=setTimeout(function(){n.enableTocAnimation()},s.scrollSmoothDuration)},s.throttleTimeout),(s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer):document).addEventListener("click",this._clickListener,!1),this},c.refresh=function(e){c.destroy(),c.init(e||this.options)},e.tocbot=c;function m(o,i,l){var r,s;return i=i||250,function(){var e=l||this,t=+new Date,n=arguments;r&&t<r+i?(clearTimeout(s),s=setTimeout(function(){r=t,o.apply(e,n)},i)):(r=t,o.apply(e,n))}}}(e),void 0!==(t="function"==typeof e?e.apply(o,t):e)&&(n.exports=t)}.call(this,h(1))},function(e,t){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1}},function(e,t){e.exports=function(s){var c=[].forEach,a=[].some,d=document.body,u=!0,f=" ";function r(e){var t=s.orderedList?"ol":"ul",t=document.createElement(t),n=s.listClass+f+s.extraListClasses;return e&&(n=(n+=f+s.collapsibleClass)+(f+s.isCollapsedClass)),t.setAttribute("class",n),t}return{enableTocAnimation:function(){u=!0},disableTocAnimation:function(e){e=e.target||e.srcElement;"string"==typeof e.className&&-1!==e.className.indexOf(s.linkClass)&&(u=!1)},render:function(e,t){var n=r(!1),e=(t.forEach(function(e){!function t(e,n){var o,i,l,n=n.appendChild((n=e,o=document.createElement("li"),i=document.createElement("a"),s.listItemClass&&o.setAttribute("class",s.listItemClass),s.onClick&&(i.onclick=s.onClick),s.includeHtml&&n.childNodes.length?c.call(n.childNodes,function(e){i.appendChild(e.cloneNode(!0))}):i.textContent=n.textContent,i.setAttribute("href",s.basePath+"#"+n.id),i.setAttribute("class",s.linkClass+f+"node-name--"+n.nodeName+f+s.extraLinkClasses),o.appendChild(i),o));e.children.length&&(l=r(e.isCollapsed),e.children.forEach(function(e){t(e,l)}),n.appendChild(l))}(e,n)}),document.querySelector(e));if(null!==e)return e.firstChild&&e.removeChild(e.firstChild),0===t.length?e:e.appendChild(n)},updateToc:function(e){var n=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||d.scrollTop;s.positionFixedSelector&&(t=s.scrollContainer&&document.querySelector(s.scrollContainer)?document.querySelector(s.scrollContainer).scrollTop:document.documentElement.scrollTop||d.scrollTop,i=document.querySelector(s.positionFixedSelector),"auto"===s.fixedSidebarOffset&&(s.fixedSidebarOffset=document.querySelector(s.tocSelector).offsetTop),t>s.fixedSidebarOffset?-1===i.className.indexOf(s.positionFixedClass)&&(i.className+=f+s.positionFixedClass):i.className=i.className.split(f+s.positionFixedClass).join(""));var o,t,i,l,r=e;u&&null!==document.querySelector(s.tocSelector)&&0<r.length&&(a.call(r,function(e,t){return function e(t){var n=0;return t!==document.querySelector(s.contentSelector&&null!=t)&&(n=t.offsetTop,s.hasInnerContainers&&(n+=e(t.offsetParent))),n}(e)>n+s.headingsOffset+10?(o=r[0===t?t:t-1],!0):t===r.length-1?(o=r[r.length-1],!0):void 0}),t=document.querySelector(s.tocSelector).querySelectorAll("."+s.linkClass),c.call(t,function(e){e.className=e.className.split(f+s.activeLinkClass).join("")}),i=document.querySelector(s.tocSelector).querySelectorAll("."+s.listItemClass),c.call(i,function(e){e.className=e.className.split(f+s.activeListItemClass).join("")}),-1===(e=document.querySelector(s.tocSelector).querySelector("."+s.linkClass+".node-name--"+o.nodeName+'[href="'+s.basePath+"#"+o.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/@])/g,"\\$1")+'"]')).className.indexOf(s.activeLinkClass)&&(e.className+=f+s.activeLinkClass),(l=e.parentNode)&&-1===l.className.indexOf(s.activeListItemClass)&&(l.className+=f+s.activeListItemClass),l=document.querySelector(s.tocSelector).querySelectorAll("."+s.listClass+"."+s.collapsibleClass),c.call(l,function(e){-1===e.className.indexOf(s.isCollapsedClass)&&(e.className+=f+s.isCollapsedClass)}),e.nextSibling&&-1!==e.nextSibling.className.indexOf(s.isCollapsedClass)&&(e.nextSibling.className=e.nextSibling.className.split(f+s.isCollapsedClass).join("")),function e(t){return-1!==t.className.indexOf(s.collapsibleClass)&&-1!==t.className.indexOf(s.isCollapsedClass)?(t.className=t.className.split(f+s.isCollapsedClass).join(""),e(t.parentNode.parentNode)):t}(e.parentNode.parentNode))}}}},function(e,t){e.exports=function(s){var t=[].reduce;function c(e){return e[e.length-1]}function a(e){var t;return e instanceof window.HTMLElement?!s.ignoreHiddenElements||e.offsetHeight&&e.offsetParent?(t={id:e.id,children:[],nodeName:e.nodeName,headingLevel:+e.nodeName.split("H").join(""),textContent:s.headingLabelCallback?String(s.headingLabelCallback(e.textContent)):e.textContent.trim()},s.includeHtml&&(t.childNodes=e.childNodes),s.headingObjectCallback?s.headingObjectCallback(t,e):t):null:e}return{nestHeadingsArray:function(e){return t.call(e,function(e,t){t=a(t);if(t){for(var n=e.nest,t,o=(t=a(t)).headingLevel,i=n,l=c(i),r=o-(l?l.headingLevel:0);0<r;)(l=c(i))&&void 0!==l.children&&(i=l.children),r--;o>=s.collapseDepth&&(t.isCollapsed=!0),i.push(t)}return e},{nest:[]})},selectHeadings:function(t,e){var n=e;s.ignoreSelector&&(n=e.split(",").map(function(e){return e.trim()+":not("+s.ignoreSelector+")"}));try{return document.querySelector(t).querySelectorAll(n)}catch(e){return console.warn("Element not found: "+t),null}}}}},function(e,t){e.exports=function(e){var t=document.querySelector(e.tocSelector);t&&t.scrollHeight>t.clientHeight&&((e=t.querySelector("."+e.activeListItemClass))&&(t.scrollTop=e.offsetTop))}},function(e,t){function s(e,t){var n,o,i=window.pageYOffset,l={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},t=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]'),r="string"==typeof e?l.offset+(e?t&&t.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,s="function"==typeof l.duration?l.duration(r):l.duration;function c(e){o=e-n,window.scrollTo(0,l.easing(o,i,r,s)),o<s?requestAnimationFrame(c):(window.scrollTo(0,i+r),"function"==typeof l.callback&&l.callback())}requestAnimationFrame(function(e){c(n=e)})}t.initSmoothScrolling=function(n){document.documentElement.style;var o=n.duration,i=n.offset,l=location.hash?r(location.href):location.href;function r(e){return e.slice(0,e.lastIndexOf("#"))}document.body.addEventListener("click",function(t){var e;"a"!==(e=t.target).tagName.toLowerCase()||!(0<e.hash.length||"#"===e.href.charAt(e.href.length-1))||r(e.href)!==l&&r(e.href)+"#"!==l||-1<t.target.className.indexOf("no-smooth-scroll")||"#"===t.target.href.charAt(t.target.href.length-2)&&"!"===t.target.href.charAt(t.target.href.length-1)||-1===t.target.className.indexOf(n.linkClass)||s(t.target.hash,{duration:o,offset:i,callback:function(){var e=t.target.hash;(e=document.getElementById(e.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())}})},!1)}}]);
//# sourceMappingURL=sonar.js.map